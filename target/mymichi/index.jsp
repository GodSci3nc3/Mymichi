<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentación básica de MyMichi</title>
    <style>
        body {
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        h1,
        h2,
        h3 {
            color: #333;
        }

        h1 {
            text-align: center;
        }
        .title {
            font-size: 45px;
        }

        .subtitle {
            font-size: 40px;
        }

        hr {
            border: none;
            border-top: 1px solid #ccc;
            margin: 20px 0;
        }

        p {
            text-align: justify;
            font-size: 16px;
        }

        strong {
            font-weight: bold;
        }

        .index-box {
            position: fixed; 
            top: 50%; 
            left: 20px;
            transform: translateY(-50%); 
            background-color: #f0f0f0;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 18px;
        }

        .index-box ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .index-box ul li {
            margin-bottom: 8px; 
        }

        .index-box ul li a {
            text-decoration: none;
            color: #333;
            transition: color 0.3s; 
        }

        .index-box ul li a:hover {
            color: #666; 
        }
    </style>
</head>

<body>
    <!-- Recuadro del índice -->
    <div class="index-box">
        <strong style="padding: 25%; font-size: 23px;">Índice:</strong>
        <ul>
            <li><a href="#1eraentrega">Primera entrega</a></li>
            <li><a href="#pantallasprincipales">Pantallas principales</a></li>
            <li><a href="#2daentrega">Segunda entrega</a></li>
            <li><a href="#organizacion-directorios">Organización de directorios</a></li>
            <li><a href="#dependencias-y-plugins">Dependencias y plugins</a></li>
            <li><a href="#componentes-generales">Componentes generales</a></li>
            <li><a href="#target-despliegue-war">Target y despliegue de war</a></li>
            <li><a href="#Basededatos">Conexión a la base de datos</a></li>
            <li><a href="#Validaciones">Validaciones</a></li>
            
            
            
            
        </ul>
    </div>

    <h1 class="title">Documentación de MyMichi</h1> <hr>
    <p> La primera entrega debe cumplir con el manejo frontend entre 
        pantallas. Es decir, se debe tener listo el diseño de las cuatro 
        interfaces de usuario. Estas vendrán siendo: 1. Login 2. Registro 3. 
        Feed 4. Perfil
    <p> La segunda entrega debe cumplir con el CRUD básico de toda la 
        vida. Debe de poder registrarse el usuario, iniciar sesión (y, por lo 
        tanto, cerrar sesión), además de poder ver su perfil. Esto indica un 
        manejo de las tres pantallas de usuario: 1. Login 2. Registro 3. Perfil. 
        Sin embargo, recordar que el usuario debe cumplir con todos los 
        elementos del modelo entidad-relación, tal como lo establecido en el 
        documento de criterios a evaluar</p>
    <p> La tercera entrega deberá cumplir con todo el proyecto 
        especificado en los criterios a evaluar.</p>
    <h1 id="1eraentrega"  class="subtitle">1era entrega: Pantallas principales, componentes 
        generales y base de datos.</h1><hr>

    <p>Para encontrar el código html y css de una pantalla específica, 
        basta con buscar (en vscode) el nombre de la pantalla (ej. Login, 
        Register, etc). Cada pantalla cuenta con un view y un styles, 
        exceptuando las dos pantallas emergentes, siendo éstas ‘Crear 
        publicación’ y ‘Búsqueda Avanzada’</p>
    <h2 id="pantallasprincipales">Pantallas principales – Código HTML y CSS</h2>
    <p>Las pantallas a mostrar serán 1. Registro 2. Login 3. Dashboard, 4. Ventana de 
        creación de publicación, 5. Rectángulo de búsqueda avanzada y 6. Perfil de 
        Usuario.</p>
    <h3>1ra Pantalla: Registro</h3>
    <p>La primera pantalla consiste en reunir los datos del usuario para registrarlos 
        en la base de datos, algo que de lo que estaré detallando más adelante, 
        cuando vaya a realizar los controladores y el modelo (segunda entrega).</p>
    <p>Por ahora, la idea del diseño es que sea como al estilo de MySpace. Por último, 
        ésta pantalla debe estar conectada al login por medio del enlace '¿Ya tienes 
        una cuenta? Inicia sesión'.</p>
    <h3>2da Pantalla: Login (iniciar sesión)</h3>
    <p>En esta pantalla se busca lograr una verificación de datos del usuario, revisando en la base 
        de datos si los datos ingresados por el usuario coinciden con los datos registrados en la 
        base de datos.
        El login cuenta con una animación cargada bajo formato JSON. La elección de animación 
        fue totalmente arbitraria y está sujeta a cambios. Además, el código para cargarla está 
        ubicado (como todos los códigos fuentes) en la carpeta **/src/**, dentro de la carpeta de 
        scripts js **'src/js/'**.</p>
    <h3>3ra Pantalla: Dashboard</h3>
    <p>La tercera pantalla, el dashboard, es reconocida en los directorios con el nombre ‘feed’, 
        véase NOTA 1 para su uso. 
        El dashboard pretende mostrar las publicaciones más recientes hechas y registradas en la 
        base de datos.</p>
    <h3>4ta Pantalla: Crear publicación</h3>
    <p>Esta pantalla pertenece ,en distribución, a la pantalla número 3 donde es posible acceder a 
        ésta pantalla sin cambiar de página (véase NOTA 4). Crear una publicación es esencial para 
        mejorar la práctica del CRUD, por lo que es crucial tener un buen diseño suyo (sujeto a 
        cambios)</p>
    <p>Al momento, la pantalla emergente queda a mero boceto de lo que será en un futuro. Crear 
        una publicación es una función que se estará documentando para la tercera entrega.</p>
    <h3>5ta Pantalla: Búsqueda Avanzada</h3>
    <p>Esta función es para encontrar publicación siguiendo un filtro determinado por el usuario. 
        Al igual que 4ta pantalla, su desarrollo será a futuro, siendo éste el diseño actual (sujeto a 
        cambios)</p>
    <h3>6ta Pantalla: Perfil de Usuario</h3>
    <p>Por último, en ésta pantalla se muestran los datos del usuario extraídos de la base de datos 
        (futuro desarrollo) además de todas las publicaciones hechas por ese usuario en particular.</p>
    <h2 id="componentes-generales">Componentes generales: Navbar y footer</h2>
    <p>Ambos componentes están disponibles en la mayoría de las views. No hace falta dar gran 
        explicación de su código html y css. Ambos componentes son encontrados con comentarios 
        en el código buscando ‘pie de página’ o ‘barra de navegación’.</p>


    <h1 id="2daentrega" class="subtitle">2da entrega: Inicio de sesión y registro de usuario</h1><hr>
    <h2 id="organizacion-directorios">Organización de directorios</h2>
    <h3 id="dependencias-y-plugins">Dependencias y plugins</h3>
    <p>Esta aplicación web fue construida usando <strong>maven</strong>, siendo que todas las dependencias están en el
        archivo de pom.xml.</p>
    <p>En el Pom.xml están dos dependencias de lo más importante para esta aplicación web. Siendo éstas <strong>jakarta
        y mysql-connector</strong>. Estas son las dependencias principales:</p>
    <ul>
        <li>
            <dependency>
                <groupId>jakarta.platform</groupId>
                <artifactId>jakarta.jakartaee-api</artifactId>
                <version>9.0.0</version>
                <scope>provided</scope>
            </dependency>
        </li>
        <li>
            <dependency>
                <groupId>mysql</groupId>
                <artifactId>mysql-connector-java</artifactId>
                <version>8.3.0</version>
            </dependency>
        </li>
    </ul>
    <p>Jakarta se usó para importar librerías más recientes 
        que las antiguas, antes la dependencia de java era javax. Y mysql-connector-java es 
        una dependencia súper importante que permite conectar por medio de servlets a 
        bases de datos msyql.</p>

    <h3 id="target-despliegue-war">Target y despliegue de war</h3>
    <p>En el directorio de target se almacena todo el proyecto ya desplegado 
        en funcionamiento desde el servidor de Tomcat.</p>
    <p>Cuando el código está listo, el proyecto se despliega poniéndolo en webapps de tomcat. 
        Pero para ello es necesario generar el <strong>archivo war</strong> usando maven 
        (para esta aplicación), y este proceso genera un directorio (pues la carpeta target).</p>

    <p>En pocas palabras, <strong>si hay fallos con las dependencias y plugins hay que revisar 
        que la carpeta lib dentro de este directorio incluya todos los archivos jar</strong></p>
    
    <h3>Las vistas jsp, ¿dónde están?</h3>
    <p>Las vistas se encuentran en el directorio /mymichi/views/, por lo que cada vez que 
        se quiera acceder a cierta vista, en ese directorio se encontrarán los cuatro</p>
    <p>Además, cada vista tiene la misma terminación para no batallar buscándolos. Si 
        se quiere buscar el login, se busca login_view.html. Si se quiere buscar el registro, 
        se busca el registro_view.html </p>
    <h3>¿Dónde encuentro los modelos?</h3>
    <p>Los servlets están en el paquete java.com.mymichi, existen dos paquetes hasta ahora. 
        El primer paquete está hecho para los modelos y el segundo es para utilidades como la 
        conexión a la base de datos </p>
    <h2 id="Basededatos">Conexión a base de datos mysql </h2>
    <p>Como se ha dicho anteriormente, la dependencia usada fue el connector de mysql, 
        descargado como jdbc y que espero que no genere problemas a la hora de pasarlo entre laptops</p>
    <p>En una clase java dentro del paquete de utils se establece conexión con la base de datos usando 
        una url, usuario y contraseña predeterminada</p>
    <p><strong>Si hiciese falta modificar algo de la conexión a la base de datos por alguna razón, es esa clase 
        la que hay que revisar</strong></p>
    <p>Todos los servlets hasta el momento importan esa clase java para poseer la conexión con la base de 
        datos. Así obtienen el objeto <strong>conn</strong>  con su método <strong>getConnection</strong> 
        importantísimos para conectarse a la base de datos</p>
        <h2>Servlets de login y registro (40 pts)</h2>
    <p>Dentro de java.com.models.mymichi están dos modelos, uno para registrar usuarios o datos nuevos 
        y otro para loguear usuarios ya registrados</p>
    <p>Independientemente del SMGB que se use para la base de datos, estos servlets están listos para 
        conectarse a la base de datos mysql.</p>
    <p>El primer servlet es el de <strong>login</strong>. Aquí se toman los parámetros del 
        formulario jsp de login_view (véase Organización de directorios).Lo que hace este servlet es 
        tomar esos parámetros y ponerlos en una consulta sql para enviarlos a la base de datos. Y el
        segundo servlet es el de <strong>registro de usuario</strong>, siendo este más complejo porque 
        los parámetros no provienen todos del formulario, si no que la edad, por ejemplo, se calcula a partir
        de la fecha de nacimiento ingresada por el usuario. El registro de usuario maneja una multitud de 
        excepciones (es decir, casos en los que algo falle) porque son múltiples parámetros los que se tienen en 
        cuenta en este servlet, así que la probabilidad de que haya un fallo es grande. Entonces, en el futuro importante
        desarrollar más estas excepciones</p>
    <h2 id="Validaciones">Validaciones tanto back como frontend (40 pts)</h2>
    <p>La idea es que no se puede enviar datos a los servlets sin antes darle una revisión a los datos ingresados. 
        Eso se logra en el propio archivo jsp, allí se verán todas las validaciones hechas, tales como que no 
        se puede ingresar una fecha de nacimiento que sobrepase el día de hoy.  </p>
    <p>Un usuario no debe poder colocar un email sin escribir la anotación de email (@), así como tampoco puede 
        registrar un nombre que ya esté en uso en la base de datos (o correo electŕonico).</p>
    </body>

</html>
